#### 小组成员
陈俊超, 蔡升豪, 余晓鹏, 陈博文

#### 讲解的内容
* 仓库的概念  
* 数据仓库的发展历程
* 数据库与数据仓库的联系和区别
* 数据仓库架构分层
* 元数据介绍
* 星型模型和雪花模型

#### 讲解的目的

* 使大家了解什么是数据仓库
* 使大家了解数据仓库的建立过程
* 使大家了解评价数据仓库优劣的标准

##### 仓库的概念  
* 数据仓库是什么  
数据仓库，英文名称为Data Warehouse，可简写为DW或DWH。  
数据仓库，是为企业所有级别的决策制定过程，提供所有类型数据支持的战略集合。  
数据仓库出于分析性报告和决策支持目的而创建，为需要业务智能的企业，提供指导业务流程改进、监视时间、成本、质量以及控制。

* 数据仓库的特点  
1. 数据仓库的数据是面向主题的  
与传统数据库面向应用进行数据组织的特点相对应，数据仓库中的数据是面向主题进行组织的。什么是主题呢？首先，主题是一个抽象的概念，是较高层次上企业信息系统中的数据综合、归类并进行分析利用的抽象。在逻辑意义上，它是对应企业中某一宏观分析领域所涉及的分析对象。面向主题的数据组织方式，就是在较高层次上对分析对象的数据的一个完整、一致的描述，能完整、统一地刻划各个分析对象所涉及的企业的各项数据，以及数据之间的联系。所谓较高层次是相对面向应用的数据组织方式而言的，是指按照主题进行数据组织的方式具有更高的数据抽象级别。

2. 数据仓库的数据是集成的  
数据仓库的数据是从原有的分散的数据库数据抽取来的。操作型数据与DSS分析型数据之间差别甚大。第一，数据仓库的每一个主题所对应的源数据在原有的各分散数据库中有许多重复和不一致的地方，且来源于不同的联机系统的数据都和不同的应用逻辑捆绑在一起；第二，数据仓库中的综合数据不能从原有的数据库系统直接得到。因此在数据进入数据仓库之前，必然要经过统一与综合，这一步是数据仓库建设中最关键、最复杂的一步，所要完成的工作有：

（1）要统一源数据中所有矛盾之处，如字段的同名异义、异名同义、单位不统一、字长不一致等。

（2）进行数据综合和计算。数据仓库中的数据综合工作可以在从原有数据库抽取 数据时生成，但许多是在数据仓库内部生成的，即进入数据仓库以后进行综合生成的。

3. 数据仓库的数据是不可更新的  
数据仓库的数据主要供企业决策分析之用，所涉及的数据操作主要是数据查询，一般情况下并不进行修改操作。数据仓库的数据反映的是一段相当长的时间内历史数据的内容，是不同时点的数据库快照的集合，以及基于这些快照进行统计、综合和重组的导出数据，而不是联机处理的数据。数据库中进行联机处理的数据经过集成输入到数据仓库中，一旦数据仓库存放的数据已经超过数据仓库的数据存储期限，这些数据将从当前的数据仓库中删去。因为数据仓库只进行数据查询操作，所以数据仓库管理系统相比数据库管理系统而言要简单得多。数据库管理系统中许多技术难点，如完整性保护、并发控制等等，在数据仓库的管理中几乎可以省去。但是由于数据仓库的查询数据量往往很大，所以就对数据查询提出了更高的要求，它要求采用各种复杂的索引技术；同时由于数据仓库面向的是商业企业的高层管理者，他们会对数据查询的界面友好性和数据表示提出更高的要求。

4. 数据仓库的数据是随时间不断变化的  
数据仓库中的数据不可更新是针对应用来说的，也就是说，数据仓库的用户进行分析处理时是不进行数据更新操作的。但并不是说，在从数据集成输入数据仓库开始到最终被删除的整个数据生存周期中，所有的数据仓库数据都是永远不变的。

数据仓库的数据是随时间的变化而不断变化的，这是数据仓库数据的第四个特征。这一特征表现在以下3方面：

（1）数据仓库随时间变化不断增加新的数据内容。数据仓库系统必须不断捕捉OLTP数据库中变化的数据，追加到数据仓库中去，也就是要不断地生成OLTP数据库的快照，经统一集成后增加到数据仓库中去；但对于确实不再变化的数据库快照，如果捕捉到新的变化数据，则只生成一个新的数据库快照增加进去，而不会对原有的数据库快照进行修改。

（2）数据仓库随时间变化不断删去旧的数据内容。数据仓库的数据也有存储期限，一旦超过了这一期限，过期数据就要被删除。只是数据仓库内的数据时限要远远长于操作型环境中的数据时限。在操作型环境中一般只保存有60~90天的数据，而在数据仓库中则需要保存较长时限的数据（如5~10年），以适应DSS进行趋势分析的要求。

（3）数据仓库中包含有大量的综合数据，这些综合数据中很多跟时间有关，如数据经常按照时间段进行综合，或隔一定的时间片进行抽样等等。这些数据要随着时间的变化不断地进行重新综合。因此，数据仓库的数据特征都包含时间项，以标明数据的历史时期。

##### 数据仓库的发展历程
* 阶段一：简单报表阶段：  
这个阶段，系统的主要目标是解决一些日常的工作中业务人员需要的报表，以及生成一些简单的能够帮助领导进行决策所需要的汇总数据。这个阶段的大部分表现形式为数据库和前端报表工具。

* 阶段二：数据集市阶段  
这个阶段，主要是根据某个业务部门的需要，进行一定的数据的采集，整理，按照业务人员的需要，进行多维报表的展现，能够提供对特定业务指导的数据，并且能够提供特定的领导决策数据。
* 阶段三：数据仓库阶段  
这个阶段，主要是按照一定的数据模型，对整个企业的数据进行采集，整理，并且能够按照各个业务部门的需要，提供跨部门的，完全一致的业务报表数据，能够通过数据仓库生成对对业务具有指导性的数据，同时，为领导决策提供全面的数据支持。

*总结：通过数据仓库建设的发展阶段，我们能够看出，数据仓库的建设和数据集市的建设的重要区别就在于数据模型的支持。因此，数据模型的建设，对于我们数据仓库的建设，有着决定性的意义。

##### 数据库与数据仓库的联系和区别
*概念：数据库软件、数据库、数据仓库

* 数据库软件：本质为软件，是一种软件，可以看得见，可以操作。用来实现数据库逻辑功能。属于物理层。  
* 数据库： 是一种逻辑概念，用来存放数据的仓库。通过数据库软件来实现。数据库由很多表组成，表是二维的，一张表里可以有很多字段。字段一字排开，对应的数据就一行一行写入表中。数据库的表，在于能够用二维表现多维关系。目前市面上流行的数据库都是二维数据库。如：Oracle、DB2、MySQL、Sybase、MS SQL Server等。
* 数据仓库：是数据库概念的升级。从逻辑上理解，数据库和数据仓库没有区别，都是通过数据库软件实现的存放数据的地方，只不过从数据量来说，数据仓库要比数据库更庞大得多。数据仓库主要用于数据挖掘和数据分析，辅助领导做决策。

* 对数据库的理解
在IT的架构体系中，数据库是必须存在的。必须要有地方存放数据。比如现在的网购，淘宝，京东等等。物品的存货数量，货品的价格，用户的账户余额之类的。这些数据都是存放在后台数据库中。或者最简单理解，我们现在微博，QQ等账户的用户名和密码。在后台数据库必然有一张user表，字段起码有两个，即用户名和密码，然后我们的数据就一行一行的存在表上面。当我们登录的时候，我们填写了用户名和密码，这些数据就会被传回到后台去，去跟表上面的数据匹配，匹配成功了，你就能登录了。匹配不成功就会报错说密码错误或者没有此用户名等。这个就是数据库，数据库在生产环境就是用来干活的。凡是跟业务应用挂钩的，我们都使用数据库。

* 对数据仓库的理解  
数据仓库则是BI下的其中一种技术。由于数据库是跟业务应用挂钩的，所以一个数据库不可能装下一家公司的所有数据。数据库的表设计往往是针对某一个应用进行设计的。比如刚才那个登录的功能，这张user表上就只有这两个字段，没有别的字段了。但是这张表符合应用，没有问题。但是这张表不符合分析。比如我想知道在哪个时间段，用户登录的量最多？哪个用户一年购物最多？诸如此类的指标。那就要重新设计数据库的表结构了。对于数据分析和数据挖掘，我们引入数据仓库概念。数据仓库的表结构是依照分析需求，分析维度，分析指标进行设计的。

* 二者的区别  
*因此实际上二者的区别就是OLTP(On-Line Transaction Processing,联机事务处理)和OLAP(On-Line Analytical Processing，联机分析处理)的区别
*OLTP：操作型处理，叫联机事务处理OLTP（On-Line Transaction Processing），也可以称面向交易的处理系统，它是针对具体业务在数据库联机的日常操作，通常对少数记录进行查询、修改。用户较为关心操作的响应时间、数据的安全性、完整性和并发支持的用户数等问题。传统的数据库系统作为数据管理的主要手段，主要用于操作型处理。
*OLAP：分析型处理，叫联机分析处理OLAP（On-Line Analytical Processing）一般针对某些主题的历史数据进行分析，支持管理决策。
* OLAP vs OLTP

| ITEM      | OLTP | OLAP |
| :---:     | :---: | :--- |
| 用户      |操作人员|分析决策人员,高级管理人员|
| 功能      |日常操作处理|决策处理|
| 设计      |面向应用|面向主题|
| 数据 |当前的最新的细节的二维的分立的|历史的聚集的多维的集成的统一的|
| 存取 |读/写数十条记录|读上百万条记录
| 工作单位|简单的读写|复杂查询|
| DB大小 |GB-TB|TB-PB|
| 度量 |事务吞吐量|查询吞吐量 响应时间|

##### 数据仓库架构分层
* 数据仓库架构  
*数据仓库标准上可以分为四层：ODS（临时存储层）、PDW（数据仓库层）、DM（数据集市层）、APP（应用层）  

![说明图片]（https://images2018.cnblogs.com/blog/1385722/201806/1385722-20180602175701631-392448997.png）
##### 元数据介绍
##### 星型模型和雪花模型

##### 数据仓库概念 : 数据仓库 ODS 
* 数据仓库
    1. 数据仓库的由来:
        需求的变化- 业务系统的逐渐完善 分析需求的不断增加 不断增加的信息孤岛导致数据集成问题不断增加
        技术发展的变化- 关系数据库技术日趋成熟 报表和复杂查询处理起来非常困难 各个系统之间数据不一致
    2. 数据仓库应运而生: 为分析人员和决策层服务
        定义: 是一个支持管理决策的数据集合.
        特点: 面向主题的 集成的 稳定的 翻领历史变化.
        面向主题: 主要是和分析相关的,有特定的服务场景,比如银行投资vip用户的理财方式的分析,可以以vip相关用户为主题生成相关数据报表.
        集成的:
        稳定的: 一般是由分析人员作读操作,写操作比较少,而且数据变动不大,比较稳定
        反应历史变化情况: 数据仓库可以存储不同时间的数据情况,例如2017-2019的财务状况.
        数据仓库是所有操作环境和外部数据源的快照集合: 类似于虚拟机的快照,能够反应历史变化       
* ODS: Operational Data Store
    1. 是操作型数据仓库,是早期的数据从仓库模型,为企业提供即时的,操作型的,集成的数据集合,具有面向主题性,集成性,动态性,即时性,明细性等特点. 和 数据仓库的区别: 抽取时间较为频繁 
* STAGING AREA
    1. 是为了保证数据移动的顺利进行而开设的阶段性存储空间,它是业务系统原始数据进入数据仓库前的缓冲区.
    2. 有等等的好处
    
* DATA MART: 称为是完整的数据仓库的一个逻辑子集,为了特定的应用目的或者应用范围, 从数据仓库中独立出来的一部分数据,也可称为部门数据或主题数据. 
        源系统->ODS->DW->DM

* OLAP: Online Analysis Processing 
    1. OLAP 是一种多维分析技术,用来满足决策用户在大量的业务数据中,从多角度碳素业务活动的规律性 市场的运作趋势的分析需求,并辅助他们进行战略发展决策的制定.
    2. 按照数据存储格式可以分为关系OLAP(简称ROLAP) 多维OLAP(简称MOLAP)和混合型OLAP(简称HOLAP)三种类型
* OLAP vs OLTP

| ITEM      | OLTP | OLAP |
| :---:     | :---: | :--- |
| 用户      |操作人员|分析决策人员,高级管理人员|
| 功能      |日常操作处理|决策处理|
| 设计      |面向应用|面向主题|
| 数据 |当前的最新的细节的二维的分立的|历史的聚集的多维的集成的统一的|
| 存取 |读/写数十条记录|读上百万条记录
| 工作单位|简单的读写|复杂查询|
| DB大小 |GB-TB|TB-PB|
| 度量 |事务吞吐量|查询吞吐量 响应时间|

##### 数据仓库建模

##### 数据治理

##### 数据仓库架构














##### 数据仓库的理解
* 数据仓库与数据库的关系: 
    1. 两者的区别: 
        数据库: 表示数据库管理系统(RDBMS),例如Oracle MySQL SQLServer 等关系型数据库,主要用于对数据的管理;
        数据仓库: 表示的是一个企业级别的决策过程,可以理解为一种指向性很强的定制数据库产品,例如Teradate GreenPlum Netezza Exadata数据库,
* 数据仓库是面向决策的: 数据仓库是为了某一目的(主题)服务的,是面向决策的;
    例如学校  医院 
* 数据仓库的输入与输出:
![说明图片](https://ask.qcloudimg.com/http-save/developer-news/r233gfhv17.jpeg?imageView2/2/w/1620)
* 数据仓库的特点: 
    1. 面向主题:
    2. 集成性:
    3. 企业范围:
    4. 历史性
    5. 时变性

* 常用的数据仓库:
    1. Teradate
    2. GreenPlum
    3. Netezza
    4. Exadata

* 数据仓库应用举例:


